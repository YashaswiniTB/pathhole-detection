<script>
  function getLocation() {
    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(showPosition, showError);
    } else {
      alert("Geolocation is not supported by this browser.");
    }
  }

  function showPosition(position) {
    const lat = position.coords.latitude;
    const lon = position.coords.longitude;

    // Display in control.html
    document.getElementById("latitude").textContent = "Latitude: " + lat;
    document.getElementById("longitude").textContent = "Longitude: " + lon;

    // Save to localStorage
    localStorage.setItem("latitude", lat);
    localStorage.setItem("longitude", lon);

    // Optional: Redirect to index.html
    window.location.href = "index.html";
  }

  function showError(error) {
    alert("Error: " + error.message);
  }
</script>
